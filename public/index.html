<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Meme Generator</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
		

		
		<h1>Meme Generator</h1>
		<div style = "text-align: center;">
			<!--input id = "input" type="text"></input>
			<button type="button" onclick="memeInsert()">Send a meme!</button>
			<button type="button" onclick="resultToHTML()">Print meme</button-->
			<br/>
			<form action="/profile" method="post" enctype="multipart/form-data">
				<input type="file" class = "button" name="meme" />
				<input type="submit" class = "button" value="Upload Meme"/>
			  </form>
		</div>
		<div id = "html" style = "text-align: center;">
			<img src = "/getMeme">
		</div>
		<br></br>

		

		<script type="text/javascript"> 

			function memeInsert(){
				var filepath = document.getElementById("input").value;

				var xhr = new XMLHttpRequest();			
				
				xhr.open("GET","http://localhost:3000/memeInsert?filepath=" + filepath, true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

				xhr.onreadystatechange = function() {
        			if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
            			
       				}
				}
				xhr.send();
   			}
			/*function resultToHTML(){
				var xhr = new XMLHttpRequest();		
				
				
				xhr.open("GET","http://localhost:3000/getMeme", true);
				xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

				xhr.onreadystatechange = function() {
        			if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
            			document.getElementById("html").innerHTML = "<img src ='" + this.response + "' alt = 'Meme' width = '300' height = '300'>";	
       				}
				}
				xhr.send();
   			}*/
		</script>
	</body>
</html>
